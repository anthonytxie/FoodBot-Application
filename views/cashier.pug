doctype html
html(lang="en")
	head
		include partials/header.pug
		link(rel ='stylesheet', href="cashier.css", type='text/css')
		//- script(src="/messenger-api-helpers/messages/menuItems.js")
	body

		- function displayName(item) { if (item.itemType === 'burger') { console.log(item.itemName); return item.itemName; } console.log(item.itemName); var name = item.itemName.replace( /([A-Z])/g, " $1" ); name = name.charAt(0).toUpperCase() + name.slice(1); if (item.itemName === 'fries') { var size = item.itemSize.charAt(0).toUpperCase() + item.itemSize.slice(1); name = size + ' ' + name; } console.log(name); return name; }
		nav(style="height: 60px, background-color: rgb(78, 86, 101)")
			.client_name
				img(src="logo.jpg")
				span burger burger
			.tab COMING SOON
			.vr
			.tab COMING SOON
		div
			section
				.title New
				.container
					each order in orders
						unless order.isInputted
							div
								- const display_id = order._id.toString().substr(-5);
								.top 
									.id
										span.heavy ID: 
										span.light #{display_id} 
									.address(style="display: none;")
										span.heavy Address:
										span.light #{order.address}, #{order.postalCode}
								.middle
									- let counter = 0;
									each item in order._items
										- const mods = findAdditionalItemsOnBurger(item);
										- counter++;

										.item #{counter}. #{displayName(item)}

										//- burger modifications
										each topping in mods.plusToppings
											.plus + #{topping}
										if mods.pattyDifference > 0
											- let counter = 0
											while counter <= mods.pattyDifference 
												.plus + Patty
												- counter++
										each topping in mods.minusToppings
											.minus – #{topping}
										if mods.pattyDifference < 0
											- let counter = 0
											while counter >= mods.pattyDifference
												.minus – Patty
												- counter--


										
								.bottom
									button Cooking

			section
				.title Cooking
				.container
					each order in orders
						if (order.isInputted && (!order.isReady))
							div
								- const display_id = order._id.toString().substr(-5);
								.top #{display_id} | Delivery to #{order.address}, #{order.postalCode}
								.middle
									each item in order._items
										.item #{displayName(item)}
										if item.itemType == "burger"
											//- weird notation here
											each topping in item.standardToppings
												.topping #{displayName({itemName: topping})}
											each topping in item.premiumToppings
												.topping #{displayName({itemName: topping})}
								.bottom
									button New
									button Ready

			section
				.title Ready
				.container
					each order in orders
						if order.isReady
							div
								- const display_id = order._id.toString().substr(-5);
								.top #{display_id} | Delivery to #{order.address}, #{order.postalCode}
								.middle
									each item in order._items
										.item #{displayName(item)}
										if item.itemType == "burger"
											//- weird notation here
											each topping in item.standardToppings
												.topping #{displayName({itemName: topping})}
											each topping in item.premiumToppings
												.topping #{displayName({itemName: topping})}
								.bottom
									button Cooking 